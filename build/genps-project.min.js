window.gpsMsgQueue=[],window.gpsInited=!1;const d=(p,s)=>{window.gpsInited?window.parent.postMessage({type:p,...s},"*"):window.gpsMsgQueue.push({type:p,payload:s})};window.addEventListener("message",p=>{if(p.data)switch(p.data.type){case"gps:f:init":window.gpsInited=!0,window.gpsImplSignals&&d("gps:b:init",{implementsSignals:window.gpsImplSignals,v:"1.0.1"}),window.gpsMsgQueue.forEach(({type:p,payload:s})=>d(p,s)),window.gpsMsgQueue=[];case"gps:f:download":window.gpsOnDownload?.(p.data.key,(p,s)=>{d("gps:b:download",{dataUrl:p,ext:s})})}}),window.gpsLoadProg=p=>d("gps:b:load-prog",{p:p}),window.gpsLoadCompl=()=>d("gps:b:load-compl"),window.gpsCaptPrev=()=>d("gps:b:capt-prev");