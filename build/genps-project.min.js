window.gpsMsgQueue=[],window.gpsInited=!1;const d=(s,p)=>{window.gpsInited?window.parent.postMessage({type:s,...p},"*"):window.gpsMsgQueue.push({type:s,payload:p})};window.addEventListener("message",s=>{if(s.data)switch(s.data.type){case"gps:f:init":window.gpsInited=!0,window.gpsImplSignals&&d("gps:b:init",{implementsSignals:window.gpsImplSignals,v:"1.0.1"}),window.gpsMsgQueue.forEach(({type:s,payload:p})=>d(s,p)),window.gpsMsgQueue=[];case"gps:f:download":window.gpsOnDownload?.(s.data.key,(s,p)=>{d("gps:b:download",{dataUrl:s,ext:p})})}}),window.gpsLoadCompl=()=>d("gps:b:load-compl"),window.gpsCaptPrev=()=>d("gps:b:capt-prev");